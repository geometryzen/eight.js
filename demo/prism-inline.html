<!doctype html>
<html>
  <head>
    <title>Eight Demo</title>
    <script src="../vendor/gl-matrix/dist/gl-matrix.js"></script>
    <script src="../dist/eight.js"></script>
    <script src="../vendor/stats.js/build/stats.min.js"></script>
    <script>
      function initWebGL()
      {
        var canvas = document.getElementById("my-canvas");
        var gl;
        try
        {
          gl = canvas.getContext("webgl") || canvas.getContext("experimental-webgl");
        }
        catch(e)
        {
        }

        if(gl)
        {
          var scene = new EIGHT.Scene();
          var camera = new EIGHT.PerspectiveCamera(45, canvas.width / canvas.height, 0.1, 100.0);
          var renderer = new EIGHT.WebGLRenderer(gl);
          var stats = new Stats();
          stats.setMode(0);
          stats.domElement.style.position = 'absolute';
          stats.domElement.style.left = '0px';
          stats.domElement.style.top = '0px';
          document.body.appendChild(stats.domElement);

          var prism = new EIGHT.Prism(gl);

          scene.add(prism);

          var tick = function(time)
          {
            stats.begin();
            renderer.render(scene, camera);
            stats.end();
          };

          var terminate = function(time)
          {
            return time > 15;
          };

          var setUp = function()
          {
          };

          var tearDown = function()
          {
            scene.tearDown();
          };

          var war = new EIGHT.WindowAnimationRunner(tick, terminate, setUp, tearDown, window);

          war.start();
        }
        else
        {
          alert("Error: Your browser does not appear to support WebGL.");
        }
      }
    </script>
  </head>
  <body onload="initWebGL()">
    <canvas id="my-canvas" width="800" height="600">
      Your browser does not support the HTML5 canvas element.
    </canvas>
  </body>
</html>
