<!doctype html>
<html>
  <head>
    <title>3D Prism with Depth Test</title>
    <style>
      body{ background-color: grey; }
      canvas{ background-color: white; }
    </style>
    <script src="../vendor/gl-matrix/dist/gl-matrix.js"></script>
    <script src="../dist/eight.js"></script>
    <script>
      function initWebGL()
      {
        var canvas = document.getElementById("my-canvas");
        var gl;
        try
        {
          gl = canvas.getContext("webgl") || canvas.getContext("experimental-webgl");
        }
        catch(e)
        {
        }

        if(gl)
        {
          var scene = new EIGHT.Scene();
          var camera = new EIGHT.PerspectiveCamera(45, canvas.width / canvas.height, 0.1, 100.0);
          var renderer = new EIGHT.WebGLRenderer(gl);

          var prism = new EIGHT.Prism(gl);

          (function animLoop(){

            renderer.render(scene, camera);

            prism.move();

            prism.draw(gl, camera.pMatrix);

            requestAnimationFrame(animLoop);
          })();
        }
        else
        {
          alert("Error: Your browser does not appear to support WebGL.");
        }
      }
    </script>
  </head>
  <body onload="initWebGL()">
    <canvas id="my-canvas" width="400" height="300">
      Your browser does not support the HTML5 canvas element.
    </canvas>
  </body>
</html>
